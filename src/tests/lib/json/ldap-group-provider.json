{
  "tests": [
    {
      "type": "query",
      "name": "Test clusteradmins group",
      "sql": "SELECT current_groups()",
      "trinoCliArgs": [
        "--server 'https://localhost:8443'",
        "--user admin",
        "--truststore-path /etc/${CLUSTER_DIST}/tls/truststore.jks",
        "--truststore-password changeit",
        "--password"
      ],
      "env": {
        "TRINO_PASSWORD": "trinoRocks15"
      },
      "contains": [
        "clusteradmins"
      ]
    },
    {
      "type": "query",
      "name": "Test metadata-users groups",
      "sql": "SELECT current_groups()",
      "trinoCliArgs": [
        "--server 'https://localhost:8443'",
        "--user metadata-user",
        "--truststore-path /etc/${CLUSTER_DIST}/tls/truststore.jks",
        "--truststore-password changeit",
        "--password"
      ],
      "env": {
        "TRINO_PASSWORD": "trinoRocks15"
      },
      "contains": [
        "metadata-users"
      ]
    },
    {
      "type": "query",
      "name": "Test platform-users group",
      "sql": "SELECT current_groups()",
      "trinoCliArgs": [
        "--server 'https://localhost:8443'",
        "--user platform-user",
        "--truststore-path /etc/${CLUSTER_DIST}/tls/truststore.jks",
        "--truststore-password changeit",
        "--password"
      ],
      "env": {
        "TRINO_PASSWORD": "trinoRocks15"
      },
      "contains": [
        "platform-users"
      ]
    },
    {
      "type": "query",
      "name": "Test 'test' user",
      "sql": "SELECT current_groups()",
      "trinoCliArgs": [
        "--server 'https://localhost:8443'",
        "--user test",
        "--truststore-path /etc/${CLUSTER_DIST}/tls/truststore.jks",
        "--truststore-password changeit",
        "--password"
      ],
      "env": {
        "TRINO_PASSWORD": "trinoRocks15"
      },
      "contains": [
        "clusteradmins",
        "metadata-users",
        "platform-users"
      ]
    },
    {
      "type": "query",
      "name": "Test empty group",
      "sql": "SELECT current_groups()",
      "trinoCliArgs": [
        "--server 'http://localhost:8080'"
      ],
      "contains": [
        "[]"
      ]
    }
  ]
}
