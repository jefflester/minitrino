version: "3.8"
services:

  trino:
    volumes:
      - "./modules/administration/cache-service/resources/trino/cache.properties:/etc/starburst/cache.properties"
      - "./modules/administration/cache-service/resources/trino/cache-rules.json:/etc/starburst/cache-rules.json"

  mysql-cache-service:
    image: "mysql:${MYSQL_VER}"
    container_name: "mysql-cache-service"
    labels:
      - "com.starburst.tests=minitrino"
      - "com.starburst.tests.module.cache-service=administration-cache-service"
    env_file:
      - "./modules/administration/cache-service/resources/mysql/mysql.env"
    environment:
      MINITRINO_BOOTSTRAP: "bootstrap-mysql.sh"
