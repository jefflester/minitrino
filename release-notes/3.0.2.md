# Minitrino Release Notes: 3.0.2

## Release Overview

Minitrino 3.0.2 is a patch release that fixes critical documentation issues and
improves the release workflow infrastructure.

**Key improvements:**

- Fixed documentation version selector to display actual version instead of
  always showing "master"
- Fixed version sync script to prevent corruption of ruff configuration
- Blacklisted broken 3.0.0 documentation build
- Enhanced pre-commit hooks to auto-stage generated documentation files
- Updated release workflow to ensure correct branch checkout

**Table of Contents:**

- [CLI Changes and Additions](#cli-changes-and-additions)
- [Other](#other)

## CLI Changes and Additions

No CLI changes in this release.

## Other

### Documentation Fixes

- **Version selector display fix**: The ReadTheDocs version selector dropdown
  now correctly displays the actual documentation version (e.g., "3.0.2",
  "3.0.1") instead of always showing "master". This was caused by a hardcoded
  `github_version` value in `docs/conf.py` that has been updated to use the
  dynamic `release` variable.

- **Blacklisted 3.0.0 documentation**: Version 3.0.0 documentation cannot be
  built due to a typo in `.readthedocs.yaml` (`extra_requires` vs
  `extra_requirements`). Added a blacklist system to the version switcher
  script to prevent 3.0.0 from appearing in documentation version selectors.
  Users should refer to 3.0.1+ documentation.

### Build & Release Infrastructure

- **Version sync script fix**: Fixed the `sync_version_files.py` pre-commit
  hook to only update the version field in the `[project]` section of
  `pyproject.toml`, preventing it from incorrectly modifying ruff's
  `target-version` configuration (which expects Python versions like `py310`,
  not project versions).

- **Auto-stage documentation changes**: The `update_switcher_json.py`
  pre-commit hook now automatically stages `docs/_static/switcher.json` after
  modifying it, eliminating the need for manual staging and preventing
  commit failures.

- **Release workflow improvements**: Updated the GitHub Actions release
  workflow to explicitly checkout from the `master` branch when creating
  releases, ensuring releases are always created from the correct source.

### Repository Configuration

- **Auto-delete merged branches**: Enabled GitHub's auto-delete branch setting
  to automatically clean up release branches after they're merged. This
  prevents ReadTheDocs slug conflicts between Git branches and tags with the
  same name.
