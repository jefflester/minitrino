---
services:

  minitrino:
    build:
      context: ./image/
      args:
        UBUNTU_VER: ${UBUNTU_VER}
        CLUSTER_VER: ${CLUSTER_VER}
        CLUSTER_DIST: ${CLUSTER_DIST}
        BUILD_USER: ${BUILD_USER}
      labels:
        - org.minitrino=root
        - org.minitrino.module=minitrino
    image: minitrino/cluster:${CLUSTER_VER}-${CLUSTER_DIST}
    container_name: minitrino
    restart: 'no'
    ports:
      - 8080:8080
    volumes:
      - ${LIC_PATH}:${LIC_MOUNT_PATH}
      - catalogs:/etc/${CLUSTER_DIST}/catalog
    labels:
      - org.minitrino=root
      - org.minitrino.module=minitrino

volumes:
  catalogs:
    labels:
      - org.minitrino=root
      - org.minitrino.module=minitrino
