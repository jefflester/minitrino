---
services:

  minitrino:
    volumes:
      - ./modules/catalog/sqlserver/resources/cluster/sqlserver.properties:/mnt/etc/catalog/sqlserver.properties:ro

  sqlserver:
    image: mcr.microsoft.com/mssql/server:${SQLSERVER_VER}
    container_name: sqlserver-${CLUSTER_NAME}
    env_file:
      - ./modules/catalog/sqlserver/resources/sqlserver/sqlserver.env
    ports:
      - ${__PORT_SQL_SERVER}:1433
    volumes:
      - sqlserver-data:/var/opt/mssql
    labels:
      - org.minitrino.root=true
      - org.minitrino.module.catalog.sqlserver=true

volumes:
  sqlserver-data:
    labels:
      - org.minitrino.root=true
      - org.minitrino.module.catalog.sqlserver=true
