---
services:

  minitrino:
    volumes:
      - ./modules/catalog/sqlserver/resources/cluster/sqlserver.properties:${ETC}/catalog/sqlserver.properties

  sqlserver:
    image: mcr.microsoft.com/mssql/server:${SQLSERVER_VER}
    container_name: sqlserver-${CLUSTER_NAME}
    env_file:
      - ./modules/catalog/sqlserver/resources/sqlserver/sqlserver.env
    ports:
      - ${__PORT_SQL_SERVER}:1433
    volumes:
      - sqlserver-data:/var/opt/mssql
    labels:
      - org.minitrino=root
      - org.minitrino.module.sqlserver=catalog-sqlserver

volumes:
  sqlserver-data:
    labels:
      - org.minitrino=root
      - org.minitrino.module.sqlserver=catalog-sqlserver
