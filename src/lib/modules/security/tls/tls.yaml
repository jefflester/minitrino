---
services:

  minitrino:
    environment:
      TLS_CONFIG_PROPERTIES: |-
        http-server.https.enabled=true
        http-server.https.port=8443
        http-server.https.keystore.path=etc/tls/keystore.jks
        http-server.https.keystore.key=changeit
    ports:
      - ${__PORT_MINITRINO_TLS}:8443
    volumes:
      - ${HOME}/.minitrino/tls/${CLUSTER_NAME}:/mnt/etc/tls
      - ./modules/security/tls/resources/cluster/bootstrap.sh:/mnt/bootstrap/tls/bootstrap.sh:ro
    labels:
      - org.minitrino.module.security.tls=true
